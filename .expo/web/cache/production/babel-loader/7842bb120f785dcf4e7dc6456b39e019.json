{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\"],_excluded2=[\"in\",\"placement\",\"overlay\",\"duration\",\"_overlay\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{forwardRef,memo}from'react';import Box from\"../../primitives/Box\";import PresenceTransition from\"./PresenceTransition\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";import{Overlay}from\"../../primitives/Overlay\";import{usePropsResolution}from\"../../../hooks/\";var holderStyle={top:{top:0,right:0,left:0},right:{right:0,top:0,bottom:0},bottom:{bottom:0,right:0,left:0},left:{left:0,bottom:0,top:0}};export var Slide=memo(forwardRef(function(_ref,ref){var children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);var _usePropsResolution=usePropsResolution('Slide',props),visible=_usePropsResolution.in,placement=_usePropsResolution.placement,overlay=_usePropsResolution.overlay,duration=_usePropsResolution.duration,_overlay=_usePropsResolution._overlay,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),containerOpacity=_React$useState2[0],setContainerOpacity=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),size=_React$useState4[0],setSize=_React$useState4[1];var provideSize=function provideSize(layoutSize){if(placement==='right'||placement==='left')setSize(layoutSize.width);else setSize(layoutSize.height);setContainerOpacity(1);};var transition={duration:duration};var animationStyle={top:{initial:{translateY:-size},animate:{translateY:0,transition:transition}},bottom:{initial:{translateY:size},animate:{translateY:0,transition:transition},exit:{translateY:size,transition:transition}},left:{initial:{translateX:-size},animate:{translateX:0,transition:transition}},right:{initial:{translateX:size},animate:{translateX:0,transition:transition}}};if(useHasResponsiveProps(props)){return null;}var slideComponent=React.createElement(PresenceTransition,_extends({visible:visible},animationStyle[placement],{style:[{position:'absolute'},holderStyle[placement],{height:'100%'}]}),React.createElement(Box,_extends({},resolvedProps,{opacity:containerOpacity,ref:ref,onLayout:function onLayout(e){return provideSize(e.nativeEvent.layout);}}),children));if(overlay){return React.createElement(React.Fragment,null,React.createElement(Overlay,_extends({isKeyboardDismissable:false},_overlay),slideComponent));}else{return slideComponent;}}));export default Slide;","map":{"version":3,"sources":["Slide.tsx"],"names":["React","forwardRef","memo","Box","PresenceTransition","useHasResponsiveProps","Overlay","usePropsResolution","holderStyle","top","right","left","bottom","Slide","children","props","ref","in","visible","placement","overlay","duration","_overlay","resolvedProps","containerOpacity","setContainerOpacity","useState","size","setSize","provideSize","layoutSize","width","height","transition","animationStyle","initial","translateY","animate","exit","translateX","slideComponent","position","e","nativeEvent","layout"],"mappings":"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","sourcesContent":["import React, { forwardRef, memo } from 'react';\nimport Box from '../../primitives/Box';\nimport type { ISlideProps } from './types';\nimport PresenceTransition from './PresenceTransition';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nimport { Overlay } from '../../primitives/Overlay';\nimport { usePropsResolution } from '../../../hooks/';\n\nconst holderStyle: any = {\n  top: {\n    top: 0,\n    right: 0,\n    left: 0,\n  },\n  right: {\n    right: 0,\n    top: 0,\n    bottom: 0,\n  },\n  bottom: {\n    bottom: 0,\n    right: 0,\n    left: 0,\n  },\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n  },\n};\n\nexport const Slide = memo(\n  forwardRef(({ children, ...props }: ISlideProps, ref: any) => {\n    const {\n      in: visible,\n      placement,\n      overlay,\n      duration,\n      _overlay,\n      ...resolvedProps\n    } = usePropsResolution('Slide', props);\n    const [containerOpacity, setContainerOpacity] = React.useState(0);\n    const [size, setSize] = React.useState(0);\n    const provideSize = (layoutSize: any) => {\n      if (placement === 'right' || placement === 'left')\n        setSize(layoutSize.width);\n      else setSize(layoutSize.height);\n      setContainerOpacity(1);\n    };\n\n    const transition = { duration };\n\n    const animationStyle: any = {\n      top: {\n        initial: {\n          translateY: -size,\n        },\n        animate: {\n          translateY: 0,\n          transition,\n        },\n      },\n      bottom: {\n        initial: {\n          translateY: size,\n        },\n        animate: {\n          translateY: 0,\n          transition,\n        },\n        exit: {\n          translateY: size,\n          transition,\n        },\n      },\n      left: {\n        initial: {\n          translateX: -size,\n        },\n        animate: {\n          translateX: 0,\n          transition,\n        },\n      },\n      right: {\n        initial: {\n          translateX: size,\n        },\n        animate: {\n          translateX: 0,\n          transition,\n        },\n      },\n    };\n\n    //TODO: refactor for responsive prop\n    if (useHasResponsiveProps(props)) {\n      return null;\n    }\n\n    const slideComponent = (\n      <PresenceTransition\n        visible={visible}\n        {...animationStyle[placement]}\n        style={[\n          { position: 'absolute' },\n          holderStyle[placement],\n          { height: '100%' },\n        ]}\n      >\n        <Box\n          {...resolvedProps}\n          opacity={containerOpacity}\n          ref={ref}\n          onLayout={(e) => provideSize(e.nativeEvent.layout)}\n        >\n          {children}\n        </Box>\n      </PresenceTransition>\n    );\n\n    if (overlay) {\n      return (\n        <>\n          <Overlay isKeyboardDismissable={false} {..._overlay}>\n            {slideComponent}\n          </Overlay>\n        </>\n      );\n    } else {\n      return slideComponent;\n    }\n  })\n);\n\nexport default Slide;\n"]},"metadata":{},"sourceType":"module"}