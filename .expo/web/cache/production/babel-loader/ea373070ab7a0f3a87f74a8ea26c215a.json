{"ast":null,"code":"export default function memoize(callback){var previous;var result;return function(){var hasChanged=false;for(var _len=arguments.length,dependencies=new Array(_len),_key=0;_key<_len;_key++){dependencies[_key]=arguments[_key];}if(previous){if(previous.length!==dependencies.length){hasChanged=true;}else{for(var i=0;i<previous.length;i++){if(previous[i]!==dependencies[i]){hasChanged=true;break;}}}}else{hasChanged=true;}previous=dependencies;if(hasChanged||result===undefined){result=callback.apply(void 0,dependencies);}return result;};}","map":{"version":3,"sources":["memoize.tsx"],"names":["memoize","callback","previous","result","dependencies","hasChanged","length","i","undefined"],"mappings":"AAAA,cAAe,SAASA,QAAT,CACbC,QADa,CAEb,CACA,GAAIC,SAAJ,CACA,GAAIC,OAAJ,CAEA,MAAO,WAAmC,CACxC,GAAIE,WAAU,CAAG,KAAjB,CAAA,8BADSD,YAAJ,0CAAIA,YAAJ,wBAGL,GAAIF,QAAJ,CAAc,CACZ,GAAIA,QAAQ,CAACI,MAATJ,GAAoBE,YAAY,CAACE,MAArC,CAA6C,CAC3CD,UAAU,CAAG,IAAbA,CACD,CAFD,IAEO,CACL,IAAK,GAAIE,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,QAAQ,CAACI,MAA7B,CAAqCC,CAAC,EAAtC,CAA0C,CACxC,GAAIL,QAAQ,CAACK,CAAD,CAARL,GAAgBE,YAAY,CAACG,CAAD,CAAhC,CAAqC,CACnCF,UAAU,CAAG,IAAbA,CACA,MACD,CACF,CACF,CACF,CAXD,IAWO,CACLA,UAAU,CAAG,IAAbA,CACD,CAEDH,QAAQ,CAAGE,YAAXF,CAEA,GAAIG,UAAU,EAAIF,MAAM,GAAKK,SAA7B,CAAwC,CACtCL,MAAM,CAAGF,QAAQ,cAAIG,YAAJ,CAAjBD,CACD,CAED,MAAOA,OAAP,CACD,CAzBD,CA0BD","sourcesContent":["export default function memoize<Result, Deps extends readonly any[]>(\n  callback: (...deps: Deps) => Result\n) {\n  let previous: Deps | undefined;\n  let result: Result | undefined;\n\n  return (...dependencies: Deps): Result => {\n    let hasChanged = false;\n\n    if (previous) {\n      if (previous.length !== dependencies.length) {\n        hasChanged = true;\n      } else {\n        for (let i = 0; i < previous.length; i++) {\n          if (previous[i] !== dependencies[i]) {\n            hasChanged = true;\n            break;\n          }\n        }\n      }\n    } else {\n      hasChanged = true;\n    }\n\n    previous = dependencies;\n\n    if (hasChanged || result === undefined) {\n      result = callback(...dependencies);\n    }\n\n    return result;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}