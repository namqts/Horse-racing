{"ast":null,"code":"import _extends2 from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\",\"index\",\"isDisabled\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React from'react';import Box from\"../../primitives/Box\";import{AccordionContext,AccordionItemContext}from\"./Context\";import{useThemeProps}from\"../../../hooks\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";var AccordionItem=function AccordionItem(_ref,ref){var children=_ref.children,_ref$index=_ref.index,pIndex=_ref$index===void 0?0:_ref$index,isDisabled=_ref.isDisabled,props=_objectWithoutProperties(_ref,_excluded);var _React$useContext=React.useContext(AccordionContext),cIndex=_React$useContext.index,changeHandler=_React$useContext.changeHandler;var _useThemeProps=useThemeProps('AccordionItem',props),newProps=_extends2({},_useThemeProps);var isOpen=cIndex===null||cIndex===void 0?void 0:cIndex.includes(pIndex);var onClose=function onClose(cb){changeHandler&&changeHandler(false,pIndex);cb&&cb();};var onOpen=function onOpen(cb){changeHandler&&changeHandler(true,pIndex);cb&&cb();};var childSetter=function childSetter(){if(typeof children==='function')return children({isExpanded:isOpen,isDisabled:isDisabled});return children;};if(useHasResponsiveProps(props)){return null;}return React.createElement(AccordionItemContext.Provider,{value:{index:pIndex,isOpen:isOpen,isDisabled:isDisabled,onClose:onClose,onOpen:onOpen}},React.createElement(Box,_extends({},newProps,{ref:ref}),childSetter()));};export default React.memo(React.forwardRef(AccordionItem));","map":{"version":3,"sources":["AccordionItem.tsx"],"names":["React","Box","AccordionContext","AccordionItemContext","useThemeProps","useHasResponsiveProps","AccordionItem","children","index","pIndex","isDisabled","props","ref","cIndex","changeHandler","useContext","newProps","isOpen","includes","onClose","cb","onOpen","childSetter","isExpanded","memo","forwardRef"],"mappings":"kdAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,IAAP,4BACA,OAASC,gBAAT,CAA2BC,oBAA3B,iBAEA,OAASC,aAAT,sBACA,OAASC,qBAAT,4CAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAa,MAEjBM,GAFoB,CAGjB,IAFDL,SAAF,MAAEA,QAAF,iBAAYC,KAAK,CAAEC,MAAM,qBAAG,CAA5B,YAA+BC,UAA/B,MAA+BA,UAA/B,CAA8CC,KAAAA,0CAG9C,sBAG4BX,KAAK,CAACe,UAANf,CAAiBE,gBAAjBF,CAH5B,CACSa,MADH,mBACJL,KAAK,CACLM,aAAAA,mBAAAA,aAAAA,CAEF,mBAAwBV,aAAa,CAAC,eAAD,CAAkBO,KAAlB,CAArC,CAAWK,QAAAA,8BAEX,GAAMC,OAAM,CAAGJ,MAAH,GAAA,IAAA,EAAGA,MAAH,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAGA,MAAM,CAAEK,QAARL,CAAiBJ,MAAjBI,CAAf,CACA,GAAMM,QAAO,CAAIC,QAAXD,QAAO,CAAIC,EAAD,CAAqB,CACnCN,aAAa,EAAIA,aAAa,CAAC,KAAD,CAAQL,MAAR,CAA9BK,CACAM,EAAE,EAAIA,EAAE,EAARA,CACD,CAHD,CAIA,GAAMC,OAAM,CAAID,QAAVC,OAAM,CAAID,EAAD,CAAqB,CAClCN,aAAa,EAAIA,aAAa,CAAC,IAAD,CAAOL,MAAP,CAA9BK,CACAM,EAAE,EAAIA,EAAE,EAARA,CACD,CAHD,CAIA,GAAME,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,GAAI,MAAOf,SAAP,GAAoB,UAAxB,CACE,MAAOA,SAAQ,CAAC,CAAEgB,UAAU,CAAEN,MAAd,CAAsBP,UAAAA,CAAAA,UAAtB,CAAD,CAAf,CACF,MAAOH,SAAP,CACD,CApBE,CAsBH,GAAIF,qBAAqB,CAACM,KAAD,CAAzB,CAAkC,CAChC,MAAO,KAAP,CACD,CACD,MACE,MAAA,CAAA,aAAA,CAAC,oBAAD,CAAsB,QAAtB,CAAA,CACE,KAAK,CAAE,CACLH,KAAK,CAAEC,MADF,CAELQ,MAFK,CAELA,MAFK,CAGLP,UAHK,CAGLA,UAHK,CAILS,OAJK,CAILA,OAJK,CAKLE,MAAAA,CAAAA,MALK,CADT,CAAA,CASE,KAAA,CAAA,aAAA,CAAC,GAAD,CAAA,QAAA,CAAA,CAAA,CAAA,CAASL,QAAT,CAAA,CAAmB,GAAG,CAAEJ,GAAxB,CAAA,CAAA,CACGU,WAAW,EADd,CATF,CADF,CAeD,CA3CD,CA6CA,cAAetB,MAAK,CAACwB,IAANxB,CAAWA,KAAK,CAACyB,UAANzB,CAAiBM,aAAjBN,CAAXA,CAAf","sourcesContent":["import React from 'react';\nimport Box from '../../primitives/Box';\nimport { AccordionContext, AccordionItemContext } from './Context';\nimport type { IAccordionItemProps, IAccordionContextProps } from './types';\nimport { useThemeProps } from '../../../hooks';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst AccordionItem = (\n  { children, index: pIndex = 0, isDisabled, ...props }: IAccordionItemProps,\n  ref?: any\n) => {\n  const {\n    index: cIndex,\n    changeHandler,\n  }: IAccordionContextProps = React.useContext(AccordionContext);\n  const { ...newProps } = useThemeProps('AccordionItem', props);\n\n  const isOpen = cIndex?.includes(pIndex);\n  const onClose = (cb?: () => void) => {\n    changeHandler && changeHandler(false, pIndex);\n    cb && cb();\n  };\n  const onOpen = (cb?: () => void) => {\n    changeHandler && changeHandler(true, pIndex);\n    cb && cb();\n  };\n  const childSetter = () => {\n    if (typeof children === 'function')\n      return children({ isExpanded: isOpen, isDisabled });\n    return children;\n  };\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return (\n    <AccordionItemContext.Provider\n      value={{\n        index: pIndex,\n        isOpen,\n        isDisabled,\n        onClose,\n        onOpen,\n      }}\n    >\n      <Box {...newProps} ref={ref}>\n        {childSetter()}\n      </Box>\n    </AccordionItemContext.Provider>\n  );\n};\n\nexport default React.memo(React.forwardRef(AccordionItem));\n"]},"metadata":{},"sourceType":"module"}