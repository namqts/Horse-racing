{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"style\",\"debug\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import{getStyleAndFilteredProps}from\"../theme/styled-system\";import{useTheme}from\"./useTheme\";import React from'react';import{useNativeBaseConfig}from\"../core/NativeBaseContext\";import{useResponsiveQuery}from\"../utils/useResponsiveQuery\";import{getStyledSystemPropsAndRestProps}from\"../utils/getStyledSystemPropsAndRestProps\";import stableHash from'stable-hash';export var useStyledSystemPropsResolver=function useStyledSystemPropsResolver(_ref){var propStyle=_ref.style,debug=_ref.debug,props=_objectWithoutProperties(_ref,_excluded);var theme=useTheme();var _useNativeBaseConfig=useNativeBaseConfig('makeStyledComponent'),currentBreakpoint=_useNativeBaseConfig.currentBreakpoint,config=_useNativeBaseConfig.config;var strictMode=config.strictMode;var _useResponsiveQuery=useResponsiveQuery(),getResponsiveStyles=_useResponsiveQuery.getResponsiveStyles;var _getStyledSystemProps=getStyledSystemPropsAndRestProps(props),styledSystemProps=_getStyledSystemProps.styledSystemProps,restProps=_getStyledSystemProps.restProps;var _React$useMemo=React.useMemo(function(){var _getStyleAndFilteredP=getStyleAndFilteredProps({styledSystemProps:styledSystemProps,theme:theme,debug:debug,currentBreakpoint:currentBreakpoint,strictMode:strictMode,getResponsiveStyles:getResponsiveStyles}),styleSheet=_getStyleAndFilteredP.styleSheet,dataSet=_getStyleAndFilteredP.dataSet,styleFromProps=_getStyleAndFilteredP.styleFromProps;if(propStyle){return{style:[styleSheet.box,propStyle],dataSet:dataSet,styleFromProps:styleFromProps};}else{return{style:styleSheet.box,dataSet:dataSet,styleFromProps:styleFromProps};}},[stableHash(styledSystemProps),theme,debug,currentBreakpoint,strictMode,propStyle,getResponsiveStyles,props]),style=_React$useMemo.style,dataSet=_React$useMemo.dataSet,styleFromProps=_React$useMemo.styleFromProps;if(process.env.NODE_ENV==='development'&&debug){console.log('style,resprops',currentBreakpoint);}restProps.dataSet=_objectSpread(_objectSpread({},restProps.dataSet),dataSet);return[style,restProps,styleFromProps];};","map":{"version":3,"sources":["useStyledSystemPropsResolver.ts"],"names":["getStyleAndFilteredProps","useTheme","React","useNativeBaseConfig","useResponsiveQuery","getStyledSystemPropsAndRestProps","stableHash","useStyledSystemPropsResolver","style","propStyle","debug","props","theme","currentBreakpoint","config","strictMode","getResponsiveStyles","styledSystemProps","restProps","dataSet","styleFromProps","useMemo","styleSheet","box","process","env","NODE_ENV","console","log"],"mappings":"67BAAA,OAASA,wBAAT,8BACA,OAASC,QAAT,kBACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,mBAAT,iCACA,OAASC,kBAAT,mCACA,OAASC,gCAAT,iDAEA,MAAOC,WAAP,KAAuB,aAAvB,CAEA,MAAO,IAAMC,6BAA4B,CAAG,QAA/BA,6BAA4B,MAI9B,IAHFE,UADoC,MAC3CD,KAAK,CACLE,KAF2C,MAE3CA,KAF2C,CAGxCC,KAAAA,0CAEH,GAAMC,MAAK,CAAGX,QAAQ,EAAtB,CACA,yBAAsCE,mBAAmB,CACvD,qBADuD,CAAzD,CAAQU,iBAAF,sBAAEA,iBAAF,CAAqBC,MAAAA,sBAAAA,MAAAA,CAG3B,GAAMC,WAAU,CAAGD,MAAM,CAACC,UAA1B,CAEA,wBAAgCX,kBAAkB,EAAlD,CAAQY,mBAAAA,qBAAAA,mBAAAA,CAER,0BAAyCX,gCAAgC,CACvEM,KADuE,CAAzE,CAAQM,iBAAF,uBAAEA,iBAAF,CAAqBC,SAAAA,uBAAAA,SAAAA,CAI3B,mBAA2C,KAAK,CAACG,OAAN,CAAc,UAAM,CAC7D,0BAAgDrB,wBAAwB,CAAC,CACvEiB,iBADuE,CACvEA,iBADuE,CAEvEL,KAFuE,CAEvEA,KAFuE,CAGvEF,KAHuE,CAGvEA,KAHuE,CAIvEG,iBAJuE,CAIvEA,iBAJuE,CAKvEE,UALuE,CAKvEA,UALuE,CAMvEC,mBAAAA,CAAAA,mBANuE,CAAD,CAAxE,CAAQM,UAAF,uBAAEA,UAAF,CAAcH,OAAd,uBAAcA,OAAd,CAAuBC,cAAAA,uBAAAA,cAAAA,CAQ7B,GAAIX,SAAJ,CAAe,CACb,MAAO,CAAED,KAAK,CAAE,CAACc,UAAU,CAACC,GAAZ,CAAiBd,SAAjB,CAAT,CAAsCU,OAAtC,CAAsCA,OAAtC,CAA+CC,cAAAA,CAAAA,cAA/C,CAAP,CACD,CAFD,IAEO,CACL,MAAO,CAAEZ,KAAK,CAAEc,UAAU,CAACC,GAApB,CAAyBJ,OAAzB,CAAyBA,OAAzB,CAAkCC,cAAAA,CAAAA,cAAlC,CAAP,CAZ2D,CAe9D,CAf0C,CAexC,CAEDd,UAAU,CAACW,iBAAD,CAFT,CAGDL,KAHC,CAIDF,KAJC,CAKDG,iBALC,CAMDE,UANC,CAODN,SAPC,CAQDO,mBARC,CASDL,KATC,CAfwC,CAA3C,CAAQH,KAAF,gBAAEA,KAAF,CAASW,OAAT,gBAASA,OAAT,CAAkBC,cAAAA,gBAAAA,cAAAA,CA0BxB,GAAII,OAAO,CAACC,GAARD,CAAYE,QAAZF,GAAyB,aAAzBA,EAA0Cd,KAA9C,CAAqD,CAEnDiB,OAAO,CAACC,GAARD,CAAY,gBAAZA,CAA8Bd,iBAA9Bc,CAAAA,CACD,CAEDT,SAAS,CAACC,OAAVD,gCAAyBA,SAAS,CAACC,OAAf,EAA2BA,OAAAA,CAA/CD,CAEA,MAAO,CAACV,KAAD,CAAQU,SAAR,CAAmBE,cAAnB,CAAP,CACD,CAnDM","sourcesContent":["import { getStyleAndFilteredProps } from '../theme/styled-system';\nimport { useTheme } from './useTheme';\nimport React from 'react';\nimport { useNativeBaseConfig } from '../core/NativeBaseContext';\nimport { useResponsiveQuery } from '../utils/useResponsiveQuery';\nimport { getStyledSystemPropsAndRestProps } from '../utils/getStyledSystemPropsAndRestProps';\n//@ts-ignore\nimport stableHash from 'stable-hash';\n\nexport const useStyledSystemPropsResolver = ({\n  style: propStyle,\n  debug,\n  ...props\n}: any) => {\n  const theme = useTheme();\n  const { currentBreakpoint, config } = useNativeBaseConfig(\n    'makeStyledComponent'\n  );\n  const strictMode = config.strictMode;\n\n  const { getResponsiveStyles } = useResponsiveQuery();\n\n  const { styledSystemProps, restProps } = getStyledSystemPropsAndRestProps(\n    props\n  );\n\n  const { style, dataSet, styleFromProps } = React.useMemo(() => {\n    const { styleSheet, dataSet, styleFromProps } = getStyleAndFilteredProps({\n      styledSystemProps,\n      theme,\n      debug,\n      currentBreakpoint,\n      strictMode,\n      getResponsiveStyles,\n    });\n    if (propStyle) {\n      return { style: [styleSheet.box, propStyle], dataSet, styleFromProps };\n    } else {\n      return { style: styleSheet.box, dataSet, styleFromProps };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    stableHash(styledSystemProps),\n    theme,\n    debug,\n    currentBreakpoint,\n    strictMode,\n    propStyle,\n    getResponsiveStyles,\n    props,\n  ]);\n  if (process.env.NODE_ENV === 'development' && debug) {\n    /* eslint-disable-next-line */\n    console.log('style,resprops', currentBreakpoint);\n  }\n\n  restProps.dataSet = { ...restProps.dataSet, ...dataSet };\n\n  return [style, restProps, styleFromProps];\n};\n"]},"metadata":{},"sourceType":"module"}