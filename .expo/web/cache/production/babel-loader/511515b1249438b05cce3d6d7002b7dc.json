{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\"],_excluded2=[\"_text\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{memo,forwardRef}from'react';import View from\"react-native-web/dist/exports/View\";import{usePropsResolution}from\"../../../hooks/useThemeProps\";import{getColor}from\"../../../theme\";import{useTheme}from\"../../../hooks\";import{makeStyledComponent}from\"../../../utils/styled\";import{wrapStringChild}from\"../../../utils/wrapStringChild\";import{useSafeArea}from\"../../../hooks/useSafeArea\";import{useNativeBaseConfig}from\"../../../core/NativeBaseContext\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";var StyledBox=makeStyledComponent(View);var MemoizedGradient;var Box=function Box(_ref,ref){var children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);var _useNativeBaseConfig$,_resolvedProps$bg,_resolvedProps$backgr,_resolvedProps$bgColo,_resolvedProps$backgr2;var theme=useTheme();var _usePropsResolution=usePropsResolution('Box',props),_text=_usePropsResolution._text,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);var Gradient=(_useNativeBaseConfig$=useNativeBaseConfig('NativeBaseConfigProvider').config.dependencies)===null||_useNativeBaseConfig$===void 0?void 0:_useNativeBaseConfig$['linear-gradient'];var safeAreaProps=useSafeArea(resolvedProps);if(useHasResponsiveProps(props)){return null;}if((_resolvedProps$bg=resolvedProps.bg)!==null&&_resolvedProps$bg!==void 0&&_resolvedProps$bg.linearGradient||(_resolvedProps$backgr=resolvedProps.background)!==null&&_resolvedProps$backgr!==void 0&&_resolvedProps$backgr.linearGradient||(_resolvedProps$bgColo=resolvedProps.bgColor)!==null&&_resolvedProps$bgColo!==void 0&&_resolvedProps$bgColo.linearGradient||(_resolvedProps$backgr2=resolvedProps.backgroundColor)!==null&&_resolvedProps$backgr2!==void 0&&_resolvedProps$backgr2.linearGradient){var _resolvedProps$bg2,_resolvedProps$backgr3,_resolvedProps$bgColo2,_resolvedProps$backgr4;var lgrad=((_resolvedProps$bg2=resolvedProps.bg)===null||_resolvedProps$bg2===void 0?void 0:_resolvedProps$bg2.linearGradient)||((_resolvedProps$backgr3=resolvedProps.background)===null||_resolvedProps$backgr3===void 0?void 0:_resolvedProps$backgr3.linearGradient)||((_resolvedProps$bgColo2=resolvedProps.bgColor)===null||_resolvedProps$bgColo2===void 0?void 0:_resolvedProps$bgColo2.linearGradient)||((_resolvedProps$backgr4=resolvedProps.backgroundColor)===null||_resolvedProps$backgr4===void 0?void 0:_resolvedProps$backgr4.linearGradient);if(Gradient){var _lgrad$colors;if(!MemoizedGradient){MemoizedGradient=makeStyledComponent(Gradient);}Gradient=MemoizedGradient;lgrad.colors=(_lgrad$colors=lgrad.colors)===null||_lgrad$colors===void 0?void 0:_lgrad$colors.map(function(color){return getColor(color,theme.colors,theme);});var startObj={x:0,y:0};var endObj={x:0,y:1};if(lgrad.start&&lgrad.start.length===2){startObj={x:lgrad.start[0],y:lgrad.start[1]};}if(lgrad.end&&lgrad.end.length===2){endObj={x:lgrad.end[0],y:lgrad.end[1]};}var backgroundColorProps=['bg','bgColor','background','backgroundColor'];backgroundColorProps.forEach(function(backgroundColorProp){if(backgroundColorProp in safeAreaProps)delete safeAreaProps[backgroundColorProp];});return React.createElement(Gradient,_extends({ref:ref},safeAreaProps,{colors:lgrad.colors,start:startObj,end:endObj,locations:lgrad.locations}),wrapStringChild(children,_text));}}return React.createElement(StyledBox,_extends({ref:ref},safeAreaProps),wrapStringChild(children,_text));};export default memo(forwardRef(Box));","map":{"version":3,"sources":["index.tsx"],"names":["React","memo","forwardRef","usePropsResolution","getColor","useTheme","makeStyledComponent","wrapStringChild","useSafeArea","useNativeBaseConfig","useHasResponsiveProps","StyledBox","View","MemoizedGradient","Box","children","props","ref","theme","_text","resolvedProps","Gradient","config","dependencies","safeAreaProps","bg","linearGradient","background","bgColor","backgroundColor","lgrad","colors","map","color","startObj","x","y","endObj","start","length","end","backgroundColorProps","forEach","backgroundColorProp","locations"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { View } from 'react-native';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { getColor } from '../../../theme';\nimport { useTheme } from '../../../hooks';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport { wrapStringChild } from '../../../utils/wrapStringChild';\nimport type { IBoxProps, InterfaceBoxProps } from './types';\nimport { useSafeArea } from '../../../hooks/useSafeArea';\nimport { useNativeBaseConfig } from '../../../core/NativeBaseContext';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst StyledBox = makeStyledComponent(View);\n\nlet MemoizedGradient: any;\n\nconst Box = ({ children, ...props }: IBoxProps, ref: any) => {\n  // const { _text, ...resolvedProps } = useThemeProps('Box', props);\n  const theme = useTheme();\n  const { _text, ...resolvedProps } = usePropsResolution('Box', props);\n  let Gradient = useNativeBaseConfig('NativeBaseConfigProvider').config\n    .dependencies?.['linear-gradient'];\n\n  const safeAreaProps = useSafeArea(resolvedProps);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  if (\n    resolvedProps.bg?.linearGradient ||\n    resolvedProps.background?.linearGradient ||\n    resolvedProps.bgColor?.linearGradient ||\n    resolvedProps.backgroundColor?.linearGradient\n  ) {\n    const lgrad =\n      resolvedProps.bg?.linearGradient ||\n      resolvedProps.background?.linearGradient ||\n      resolvedProps.bgColor?.linearGradient ||\n      resolvedProps.backgroundColor?.linearGradient;\n\n    if (Gradient) {\n      if (!MemoizedGradient) {\n        MemoizedGradient = makeStyledComponent(Gradient);\n      }\n\n      Gradient = MemoizedGradient;\n\n      lgrad.colors = lgrad.colors?.map((color: string) => {\n        return getColor(color, theme.colors, theme);\n      });\n      let startObj = { x: 0, y: 0 };\n      let endObj = { x: 0, y: 1 };\n      if (lgrad.start && lgrad.start.length === 2) {\n        startObj = {\n          x: lgrad.start[0],\n          y: lgrad.start[1],\n        };\n      }\n      if (lgrad.end && lgrad.end.length === 2) {\n        endObj = {\n          x: lgrad.end[0],\n          y: lgrad.end[1],\n        };\n      }\n      const backgroundColorProps = [\n        'bg',\n        'bgColor',\n        'background',\n        'backgroundColor',\n      ];\n      backgroundColorProps.forEach((backgroundColorProp) => {\n        if (backgroundColorProp in safeAreaProps)\n          delete safeAreaProps[backgroundColorProp];\n      });\n\n      return (\n        <Gradient\n          ref={ref}\n          {...safeAreaProps}\n          colors={lgrad.colors}\n          start={startObj}\n          end={endObj}\n          locations={lgrad.locations}\n        >\n          {/* {React.Children.map(children, (child) =>\n            typeof child === 'string' || typeof child === 'number' ? (\n              <Text {..._text}>{child}</Text>\n            ) : (\n              child\n            )\n          )} */}\n          {wrapStringChild(children, _text)}\n        </Gradient>\n      );\n    }\n  }\n  return (\n    <StyledBox ref={ref} {...safeAreaProps}>\n      {/* {React.Children.map(children, (child) => {\n        return typeof child === 'string' ||\n          typeof child === 'number' ||\n          (child?.type === React.Fragment &&\n            (typeof child.props?.children === 'string' ||\n              typeof child.props?.children === 'number')) ? (\n          <Text {..._text}>{child}</Text>\n        ) : (\n          child\n        );\n      })} */}\n      {wrapStringChild(children, _text)}\n    </StyledBox>\n  );\n};\n\nexport type { IBoxProps, InterfaceBoxProps };\nexport default memo(forwardRef(Box));\n"]},"metadata":{},"sourceType":"module"}